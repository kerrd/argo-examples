---
# Nginx Helm Chart Values - Production Environment
# Environment-specific overrides for base configuration

# Replica count for production (HA)
replicaCount: 2

# Ingress hostname
ingress:
  hostname: nginx.hl.rushbtech.org

# Static content configmap
staticSiteConfigmap: nginx-prod-content

# Resources for production (higher limits)
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 200m
    memory: 256Mi

# Autoscaling enabled for prod
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPU: 70
  targetMemory: 80

# Pod disruption budget for HA
podDisruptionBudget:
  enabled: true
  minAvailable: 1

# Pod affinity for better distribution
affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values:
                  - nginx
          topologyKey: kubernetes.io/hostname
