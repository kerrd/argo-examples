---
# Traefik Helm Chart Values - Base Configuration
# https://github.com/traefik/traefik-helm-chart
# Shared settings across all environments

# Deployment configuration
deployment:
  enabled: true
  kind: Deployment
  replicas: 1

# Service configuration
service:
  enabled: true
  type: LoadBalancer

# Ports configuration
ports:
  web:
    port: 80
    expose:
      default: true
    exposedPort: 80
  websecure:
    port: 443
    expose:
      default: true
    exposedPort: 443
    tls:
      enabled: true
  metrics:
    port: 9100
    expose:
      default: false

# Logs configuration
logs:
  general:
    level: INFO
  access:
    enabled: true

# Additional arguments
additionalArguments:
  - "--certificatesresolvers.letsencrypt.acme.email=dkerr@rushbtech.org"
  - "--certificatesresolvers.letsencrypt.acme.storage=/data/acme.json"
  - "--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web"

# Persistent storage for certificates
persistence:
  enabled: true
  name: data
  size: 128Mi
  path: /data
  accessMode: ReadWriteOnce
  storageClass: local-path

# IngressRoute for dashboard
ingressRoute:
  dashboard:
    enabled: false

# Health checks
readinessProbe:
  failureThreshold: 1
  initialDelaySeconds: 2
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 2

livenessProbe:
  failureThreshold: 3
  initialDelaySeconds: 2
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 2
